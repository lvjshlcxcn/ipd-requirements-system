# MCP 服务器配置指南

## 已配置的服务器

✓ **Context7** - 文档和代码上下文（无需 API key）
✓ **Filesystem** - 扩展文件系统访问（无需 API key）

## 待配置的服务器

### Exa Web Search

增强的网络搜索功能，替代内置的 websearch。

**配置方法：**

1. 在 https://exa.ai 获取 API key
2. 编辑项目根目录的 `.mcp.json` 文件
3. 添加以下配置：

```json
{
  "mcpServers": {
    "exa": {
      "command": "npx",
      "args": ["-y", "exa-mcp-server"],
      "env": {
        "EXA_API_KEY": "你的Exa API Key"
      }
    }
  }
}
```

### GitHub

GitHub API 集成，用于管理 issues、PRs 和仓库。

**配置方法：**

1. 访问 https://github.com/settings/tokens 创建 Personal Access Token
2. 推荐权限：`repo`, `read:org`
3. 确保已安装 Docker
4. 编辑项目根目录的 `.mcp.json` 文件
5. 添加以下配置：

```json
{
  "mcpServers": {
    "github": {
      "command": "docker",
      "args": ["run", "-i", "--rm", "-e", "GITHUB_PERSONAL_ACCESS_TOKEN", "ghcr.io/github/github-mcp-server"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "你的GitHub Token"
      }
    }
  }
}
```

**或者使用远程 URL（不需要 Docker）：**

```json
{
  "mcpServers": {
    "github": {
      "url": "https://api.githubcopilot.com/mcp/",
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "你的GitHub Token"
      }
    }
  }
}
```

## 验证配置

配置完成后，重启 Claude Code，MCP 服务器将自动加载。

你可以通过以下命令验证：

```bash
# 检查 .mcp.json 语法
cat .mcp.json | jq .

# 查看已配置的服务器
cat .mcp.json | jq '.mcpServers | keys'
```

## 使用技巧

### Context7
- 询问库文档："如何使用 React hooks？"
- 代码上下文："解释这个函数的工作原理"

### Exa
- 网络搜索："搜索最新的 TypeScript 特性"
- 技术调研："查找 Python 异步编程最佳实践"

### Filesystem
- 扩展文件操作（超出工作目录）

### GitHub
- 管理仓库："列出这个项目的 open issues"
- PR 管理："显示 PR #123 的详细信息"

## 故障排除

如果 MCP 服务器没有加载：

1. 检查 `.mcp.json` 语法是否正确
2. 确保 Node.js 18+ 已安装
3. 检查 API key 是否有效
4. 重启 Claude Code

如需诊断，运行：`/oh-my-claudecode:doctor`
