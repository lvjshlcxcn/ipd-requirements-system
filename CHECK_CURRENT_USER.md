# æ£€æŸ¥å½“å‰ç™»å½•ç”¨æˆ·

## æ–¹æ³•1: æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°

1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° **Console** æ ‡ç­¾
3. è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ç”¨æˆ·:

```javascript
localStorage.getItem('user')
```

æˆ–è€…:

```javascript
// æŸ¥çœ‹å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯
JSON.parse(localStorage.getItem('user') || '{}')
```

---

## æ–¹æ³•2: æŸ¥çœ‹Networkè¯·æ±‚

1. æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
2. åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
3. ç‚¹å‡»ä»»æ„ä¸€ä¸ªAPIè¯·æ±‚
4. æŸ¥çœ‹ **Headers** â†’ **Request Headers**
5. æ‰¾åˆ° `Authorization: Bearer <token>`
6. å¤åˆ¶è¿™ä¸ªtoken,ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è§£ç :

```bash
# åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ (æ›¿æ¢<your_token>)
echo "<your_token>" | cut -d'.' -f2 | base64 -d | python3 -m json.tool
```

è¿™å°†æ˜¾ç¤º:
```json
{
  "sub": "3",      # ç”¨æˆ·ID
  "username": "rd_pm",  # ç”¨æˆ·å
  ...
}
```

---

## æ–¹æ³•3: æŸ¥çœ‹åç«¯æ—¥å¿—

æŸ¥çœ‹åç«¯æ§åˆ¶å°,æ‰¾åˆ°æœ€è¿‘çš„è¯·æ±‚æ—¥å¿—:

```bash
INFO:     127.0.0.1:xxxx - "POST /api/v1/requirement-review-meetings/54/requirements/16/vote" 403
```

ç„¶ååœ¨åç«¯ä»£ç ä¸­ä¸´æ—¶æ·»åŠ æ—¥å¿—:

**æ–‡ä»¶**: `backend/app/api/v1/requirement_review_meetings.py:531`

```python
if not current_user:
    raise HTTPException(status_code=401, detail="éœ€è¦ç™»å½•æ‰èƒ½æŠ•ç¥¨")

# ä¸´æ—¶æ·»åŠ : æ‰“å°å½“å‰ç”¨æˆ·ä¿¡æ¯
print(f"ğŸ” å½“å‰ç”¨æˆ·: ID={current_user.id}, ç”¨æˆ·å={current_user.username}, è§’è‰²={current_user.role}")

tenant_id = get_tenant_id(current_user)
```

é‡å¯åç«¯åå†æ¬¡å°è¯•æŠ•ç¥¨,æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºã€‚

---

## ç¡®è®¤è§£å†³æ–¹æ¡ˆ

### å¦‚æœå½“å‰ç”¨æˆ·æ˜¯ rd_pm (ID=3):
âœ… åº”è¯¥å¯ä»¥æŠ•ç¥¨,å¦‚æœè¿˜æœ‰é—®é¢˜,è¯·å‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯ä¿¡æ¯

### å¦‚æœå½“å‰ç”¨æˆ·ä¸æ˜¯ rd_pm:
âŒ æ— æ³•æŠ•ç¥¨,éœ€è¦:
1. åˆ‡æ¢åˆ° rd_pm è´¦å·,æˆ–
2. å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°æŠ•ç¥¨äººå‘˜åˆ—è¡¨

---

è¯·å‘Šè¯‰æˆ‘å½“å‰ç™»å½•çš„ç”¨æˆ·æ˜¯è°,æˆ‘å¯ä»¥æä¾›æ›´å…·ä½“çš„è§£å†³æ–¹æ¡ˆ!
