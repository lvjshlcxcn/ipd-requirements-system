# 需求验证逻辑速查表

## ⚡ 快速判断

### ✅ 通过
- **条件**: 所有检查项都完成 ✅
- **完成度**: 100%
- **操作**: 用户选择"通过"
- **结果**: 状态锁定，不可编辑

### ❌ 失败
- **条件**: 关键检查项不达标 ❌
- **完成度**: 任意
- **操作**: 用户选择"失败"
- **结果**: 状态锁定，需求返工

### ⚠️ 部分通过
- **条件**: 非关键项有问题 ⚠️
- **完成度**: 80-99%
- **操作**: 用户选择"部分通过"
- **结果**: 可继续改进

---

## 📊 状态流转图

```
创建清单 (not_started)
    ↓
添加检查项
    ↓
保存 → 保持 not_started 或变为 in_progress
    ↓
提交验证结果
    ↓
    ├─→ passed ✅ (100%完成，锁定)
    ├─→ partial_passed ⚠️ (80-99%完成，可编辑)
    ├─→ failed ❌ (关键项失败，锁定)
    └─→ blocked 🚫 (遇到阻碍，可编辑)
```

---

## 🎯 一句话总结

| 状态 | 一句话说明 | 可编辑 |
|------|-----------|--------|
| 未开始 | 清单刚创建，还没开始检查 | ✅ |
| 进行中 | 正在检查，部分项已完成 | ✅ |
| 通过 | 全部合格，验收完成 | ❌ |
| 失败 | 关键项不合格，需返工 | ❌ |
| 部分通过 | 有小问题，可接受 | ✅ |
| 阻塞 | 遇到阻碍，无法继续 | ✅ |

---

## 💡 实用技巧

### 判断状态的选择

**选"通过"：**
- ✅ 所有检查项都打勾
- ✅ 没有任何问题
- ✅ 客户满意

**选"部分通过"：**
- ⚠️ 有小瑕疵但不影响使用
- ⚠️ 有 workaround
- ⚠️ 客户基本接受

**选"失败"：**
- ❌ 核心功能缺失
- ❌ 严重性能问题
- ❌ 安全隐患
- ❌ 客户不接受

---

## 🔐 编辑权限

```
✅ 可编辑: not_started, in_progress, partial_passed, blocked
❌ 不可编辑: passed, failed
```

**代码逻辑：**
```typescript
item.result !== 'passed' && item.result !== 'failed'
  ? <Button>编辑</Button>
  : null
```

---

## 📝 验证流程示例

### 示例1：完美通过
```
1. 创建"用户登录FAT"清单
2. 添加10项检查（用户名、密码、记住我等）
3. 逐项验证，全部打勾 ✅
4. 点击"提交验证结果"
5. 选择"通过"
6. 完成！清单锁定，不可编辑
```

### 示例2：部分通过
```
1. 创建"用户登录UAT"清单
2. 验证8/10项通过
3. 2项小问题（字体、颜色）
4. 点击"提交验证结果"
5. 选择"部分通过"
6. 填写问题和改进计划
7. 可继续编辑改进
```

### 示例3：失败返工
```
1. 创建"支付功能SAT"清单
2. 发现核心功能缺失
3. 点击"提交验证结果"
4. 选择"失败"
5. 详细记录问题
6. 清单锁定
7. 需求退回开发，创建新清单重新验证
```

---

**详细文档**: 查看 `VERIFICATION_LOGIC_ANALYSIS.md` 获取完整分析
