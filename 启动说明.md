# 需求管理系统 - 启动指南

## 快速启动

### 方法1：使用启动脚本（推荐）

```bash
cd /Users/kingsun/claude_study
./req-start.sh
```

**功能：**
- ✅ 自动检查端口占用
- ✅ 启动后端服务（端口 8000）
- ✅ 启动前端服务（端口 5173/5174）
- ✅ 自动在浏览器中打开应用
- ✅ 服务日志保存到 `/tmp/ipd_backend.log` 和 `/tmp/ipd_frontend.log`

### 方法2：手动启动

**启动后端：**
```bash
cd /Users/kingsun/claude_study/backend
source venv/bin/activate
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

**启动前端：**
```bash
cd /Users/kingsun/claude_study/frontend
npm run dev
```

## 停止服务

### 方法1：使用停止脚本（推荐）

```bash
cd /Users/kingsun/claude_study
./req-stop.sh
```

### 方法2：手动停止

```bash
# 查找进程
ps aux | grep -E "(uvicorn|vite|npm run dev)"

# 停止进程（替换 PID 为实际进程ID）
kill <BACKEND_PID>
kill <FRONTEND_PID>

# 或者使用脚本中的 PID 文件
kill $(cat /tmp/ipd_backend.pid)
kill $(cat /tmp/ipd_frontend.pid)
```

## 访问地址

- **前端应用**: http://localhost:5173 或 http://localhost:5174
- **后端API**: http://localhost:8000
- **API文档**: http://localhost:8000/docs

## 默认登录

- **用户名**: admin
- **密码**: admin123

## 查看日志

```bash
# 查看后端日志
tail -f /tmp/ipd_backend.log

# 查看前端日志
tail -f /tmp/ipd_frontend.log
```

## 故障排除

### 端口被占用

```bash
# 查看端口占用
lsof -i :8000
lsof -i :5173

# 停止占用进程
kill -9 <PID>
```

### 后端启动失败

1. 检查虚拟环境是否存在
2. 检查依赖是否安装
```bash
cd backend
source venv/bin/activate
pip install -r requirements.txt
```

### 前端启动失败

1. 检查 node_modules 是否存在
2. 重新安装依赖
```bash
cd frontend
rm -rf node_modules
npm install
```

## 功能模块

系统包含以下主要功能模块：

1. **仪表盘** - 系统概览和统计
2. **需求管理** - 需求CRUD操作
3. **需求分析** - APPEALS分析
4. **需求分发** - 需求分配管理
5. **需求追溯矩阵** - RTM 追溯管理
6. **需求验证** - 验证检查清单

## 开发模式

### 后端开发模式
- 后端支持热重载，修改代码后自动重启
- API 文档：http://localhost:8000/docs

### 前端开发模式
- 前端支持热模块替换(HMR)，修改代码后自动刷新
- 开发服务器会自动选择可用端口

## 数据库

系统使用 PostgreSQL 数据库：
- **数据库**: ipd_req_db
- **用户**: ipd_user
- **连接**: postgresql://ipd_user:ipd_pass@localhost:5432/ipd_req_db
